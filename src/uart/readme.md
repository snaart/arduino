Основная сложность заключается в том, что и передача (TX), и приём (RX) требуют точных временных интервалов, которые предоставляет один и тот же таймер (Timer1). Приём данных является приоритетной задачей, так как он инициируется внешним, асинхронным событием и не может быть отложен.

Проблема решается использованием двух независимых каналов сравнения (Compare Channels) таймера Timer1:

Канал A (TIMER1_COMPA_vect) полностью выделяется для приёма (RX).
Канал B (TIMER1_COMPB_vect) полностью выделяется для передачи (TX).
Это позволяет таймеру непрерывно считать, а аппаратные модули сравнения будут генерировать независимые прерывания для RX и TX в нужные моменты времени, обеспечивая их параллельную работу без конфликтов.

Процесс передачи (TX):
Данные для отправки помещаются в кольцевой TX-буфер.
Если передатчик свободен, он извлекает байт из буфера.
Запускается прерывание по совпадению с регистром OCR1B.
В обработчике прерывания TIMER1_COMPB_vect последовательно выставляются уровни для стартового бита, 8 бит данных (младшим битом вперёд) и стопового бита. После каждого бита значение OCR1B увеличивается на количество тиков, соответствующее длительности одного бита.
После отправки стопового бита передатчик проверяет TX-буфер. Если есть ещё данные, он начинает передачу следующего байта. Если буфер пуст, прерывание TIMER1_COMPB_vect отключается до следующего вызова uart_send().

Процесс приёма (RX):
Обнаружение старта: Внешнее прерывание (INT0 на пине PD2) настроено на срабатывание по спадающему фронту (переход из HIGH в LOW), что соответствует стартовому биту.
Запуск таймера выборки: В обработчике INT0_vect внешнее прерывание немедленно отключается (во избежание ложных срабатываний) и настраивается таймер:
Первое прерывание по совпадению с OCR1A назначается через 1.5 длительности бита. Это позволяет "прицелиться" точно в середину первого бита данных.
Прерывание TIMER1_COMPA_vect включается.
Выборка битов: В обработчике TIMER1_COMPA_vect считывается состояние RX-пина, и бит записывается в приёмный регистр. Затем значение OCR1A увеличивается на длительность одного бита для выборки следующего.
Завершение приёма: После приёма 8 бит данных и проверки стопового бита, собранный байт помещается в кольцевой RX-буфер. Прерывание TIMER1_COMPA_vect отключается, а внешнее прерывание INT0 снова включается, готовясь к приёму следующего байта.

Подключение:

TX-пин: PD3 (цифровой пин 3 на Arduino Uno)
RX-пин: PD2 (цифровой пин 2 на Arduino Uno, INT0)
Соедините PD3 одной платы с PD2 другой. Также соедините их GND.